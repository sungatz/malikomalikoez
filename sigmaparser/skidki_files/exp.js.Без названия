"use strict";(()=>{(function(o,h){let v=o.ymab;if("ymab"in o&&typeof v=="function"&&v.inited)return;let O=o.requestAnimationFrame,C=o.location,B=o.history,Te=10,Ie=5e3,G=100,Se=10*1e3/G,W={},P={},K={},k={enableRedir:!0,enableVisual:!0,enableHTML:!0,enableJS:!1,enableWatch:!1,enableAdv:!0,enableIntegrations:!0,storeRedirParam:!0,removeAbRedirParam:!1,metrikaTimeout:100,cookieDomain:void 0,nonce:void 0,storeReferer:!1,enableSendYmUid:!0,enableSetYmUid:!1},Re={enableRedir:["boolean"],enableVisual:["boolean"],enableHTML:["boolean"],enableJS:["boolean"],enableWatch:["boolean"],enableAdv:["boolean"],enableIntegrations:["boolean"],cookieDomain:["string"],metrikaTimeout:["number"],storeRedirParam:["boolean","string"],removeAbRedirParam:["boolean"],storeReferer:["boolean"],nonce:["string"],enableSendYmUid:["boolean"],enableSetYmUid:["boolean"]},S={},_e="https://uaas.yandex.ru/v1/exps/",X="_ymab_param",x="_ym_uid",M=60,ke=M*60*24*365,Ae="wSIKtymTfos,",z=/\/$/,T;function U({name:n,value:r,domain:e,ttl:t=ke}){let i=`${n}=${r}; path=/;`;if(C.protocol==="https:"&&(i+="SameSite=None; Secure;"),e){let s=e[0]==="."?1:0;C.hostname.indexOf(e.slice(s))>=0?i+=`domain=${e};`:console.error(`cookieDomain=${e} is not valid for current hostname`)}h.cookie=i+`max-age=${t};`}function H(n){let r=new RegExp(`(?:^|; )${n}=([^;]*)`,"g"),e,t;for(;(t=r.exec(h.cookie))!==null;)e=t[1];return e}function A(n,r){let e=n.indexOf(r);if(e===-1)return[];let t=n.slice(0,e).trim(),i=n.slice(e+1);return[t,i]}function Ee(n){return n.t==="integration"}function Pe(n,r){return n.reduce((e,t)=>{let{t:i,n:s,v:a}=t;if(r.enableIntegrations&&Ee(t))return e.integrations.push(t),e;if(i==="visual"&&r.enableVisual){let[c,d]=A(a,"|");if(!c||d===void 0)return e;switch(s){case"css-insert":return e.cssInsert.unshift({selector:c,value:d}),e;case"text-insert":return e.textInsert.unshift({selector:c,value:d}),e;case"href-insert":return e.hrefInsert.unshift({selector:c,value:d}),e;case"image-insert":return e.imageSrcInsert.unshift({selector:c,value:d}),e;case"html-replace":if(!r.enableHTML)break;return e.htmlReplace.unshift({selector:c,value:d}),e;case"js-insert":if(!r.enableJS)break;return e.jsInsert.unshift({selector:c,value:d}),e}}if(i==="redir"&&r.enableRedir)return e.redirect.push(a),e;if(i==="adv"&&r.enableAdv)return e.adv.push({type:s,value:a}),e;if(i==="advReplaceId"&&r.enableAdv)return e.advReplaceId[s]=a,e;let l=e.flags[s];return l||(e.flags[s]=l=[]),l.push(a),e},{cssInsert:[],textInsert:[],redirect:[],hrefInsert:[],imageSrcInsert:[],htmlReplace:[],jsInsert:[],adv:[],advReplaceId:{},flags:{},integrations:[]})}function xe(n){return n?h.querySelector(n):void 0}function Me(n,r){let e=[];for(let{selector:t,value:i}of n){let s=i.trim();e.push(`${t} {${s}}`)}try{let t=h.createElement("style");t.nonce=r,t.setAttribute("type","text/css"),t.textContent=e.join(`
`).replace(/;/g," !important;"),h.body.appendChild(t)}catch(t){}}function Ue(n,r){try{let t=r.trim().split(";");for(let i of t)if(i){let[s,a]=A(i,":");s&&a!==void 0&&(n.style[s]=a)}}catch(e){}}function Le(n,r,e,t){try{let i=h.createElement("script");i.nonce=n,i.setAttribute("type","text/javascript"),i.innerHTML=`(function(element){${e}})(document.querySelector('${t}'));`,h.body.appendChild(i)}catch(i){}}let w={};function Z(n,r){if(w[n])return;let e=h.createElement("script");e.async=!0,e.type="text/javascript",e.src=n,r&&e.addEventListener("load",r);let t=h.head;t.insertBefore(e,t.firstChild),w[n]=!0}let Fe=new Set(["js-insert","css-insert"]),Q={cache:{},getItem(n,r){let e=this.cache[n];e||(e=this.cache[n]={});let t=e[r.selector];t||(t=e[r.selector]={});let i=t[r.value];return i||(i=t[r.value]=new Set),i},has(n,r,e){return Fe.has(n)&&this.getItem(n,r).has(e)},add(n,r,e){return this.getItem(n,r).add(e)}};function ee(n,r,e,t){let{selector:i,value:s}=e;if(!i||s===void 0)return;let a=xe(i);if(!a){t>0&&setTimeout(()=>ee(n,r,e,t-1),G);return}Q.has(n,e,a)||(r(a,s,i),Q.add(n,e,a))}function R(n,r,e,t){e.forEach(i=>ee(n,r,i,t?Se:0))}class Ve{constructor(){this.callbacks={};this.MAX_DEPTH=1e3;this.depth=0;this.started=!1;this.item=new o.MutationObserver(()=>{if(this.depth++>=this.MAX_DEPTH){this.item.disconnect(),O(()=>this.observe());return}Object.values(this.callbacks).forEach(r=>r()),clearTimeout(this.depthTimeout),this.depthTimeout=setTimeout(()=>{this.depth=0},0)})}observe(){this.item.observe(h.body,{subtree:!0,childList:!0,characterData:!0,attributes:!0,attributeFilter:["class"]})}start(r,e){this.callbacks[r]=e,this.started||(this.observe(),this.started=!0)}}let Oe=new Ve,He=R.bind(null,"text-insert",(n,r)=>n.textContent===r||(n.textContent=r)),De=R.bind(null,"href-insert",(n,r)=>n.getAttribute("href")===r.trim()||n.setAttribute("href",r.trim())),Ne=R.bind(null,"image-insert",(n,r)=>n.getAttribute("src")===r.trim()||n.setAttribute("src",r.trim())),je=R.bind(null,"html-replace",(n,r)=>n.innerHTML===r||(n.innerHTML=r)),$e=R.bind(null,"css-insert",Ue),Je=(n,r,e)=>{R("js-insert",Le.bind(null,r),n,e)};function te(n){var t,i;let r=`yaCounter${n}`,e=o[r];if(!e)try{let s=((i=(t=o.Ya)==null?void 0:t._metrika)==null?void 0:i.counters)||{},a=Object.keys(s).find(l=>l.indexOf(`${n}:`)===0);return s[a||""]}catch(s){}return e}let ne=!1;function D(n,r){return new Promise(e=>{var s;let t=A(n,".")[1];if(t)try{(s=o.ym)==null||s.call(o,t,"experiments",r)}catch(a){}function i(){if(!t){console.error(`Bad clientId = ${n}`);return}let a=te(t);if(!a){setTimeout(i,10);return}try{a.experiments(r)}catch(l){}ne=!0,e(!0)}i()})}function qe(n,r){var t;let e=A(n,".")[1];if(e){let i=te(e);i?i.hit(C.href,{referer:r}):(t=o.ym)==null||t.call(o,e,"hit",C.href,{referer:r})}}function Ye(n,r=C.href){if(n.length===0)return;let e=new URL(r),t=new URL(n,e.toString()),i=t.searchParams;t.protocol=e.protocol,t.hostname=e.hostname;let s=0,a=!0;if(e.searchParams.forEach((l,c)=>{if(c==="ab__exp_flags"||c==="vq__redir_param"){i.delete(c);return}let d=c==="ab_redir"||c==="vq__ab_redir",b=i.get(c);if(b===null){if(d)return;i.set(c,l)}else a&&!d&&b!==l&&(a=!1);s++}),a&&(a=s===Array.from(i.keys()).length),!a||e.pathname.replace(z,"")!==t.pathname.replace(z,""))return t}function Be(n,r,e){let t;for(let b of n)if(t=Ye(b),t)break;if(!t)return!1;let i=0;try{re(r,e,t,()=>i=r.metrikaTimeout)}catch(b){i=r.metrikaTimeout}let s=t.toString(),a,l;function c(){clearTimeout(l),clearTimeout(a),C.replace(s)}l=setTimeout(c,i);function d(){if(!ne){a=setTimeout(d,10);return}c()}return d(),!0}function re(n,r,e,t){if(r){if(n.storeReferer&&h.referrer)try{let i={referer:h.referrer,url:C.href,ts:Date.now()};o.sessionStorage.setItem("vq__referer",JSON.stringify(i))}catch(i){}switch(n.storeRedirParam){case!0:case"localstorage":let i={experiments:r,ts:Date.now(),target:e.toString()};o.localStorage.setItem("vq__redir_param",JSON.stringify(i));break;case"cookie":U({name:"vq__redir_param",value:r,ttl:5*M,domain:n.cookieDomain});break;case"get":e.searchParams.set("vq__redir_param",r);break;default:t()}}}function Ge(n,r,e){if(typeof e!="string"||e.length===0)return;let t=e;try{let i=new URL(e,C.href);re(n,r,i,()=>console.error("storeRedirParam is required")),t=i.toString()}catch(i){console.error(i)}return t}function We(n){if(!T||typeof T!="object")return;T[n]===!0&&(T[n]=!1);let{callback:r}=T;if(r){for(let[e,t]of Object.entries(T)){let[i,s]=A(e,".");if(!(!i||!s)&&t===!0&&i.length>0&&!isNaN(Number(s)))return}setTimeout(r,0)}}function Ke(n){o.addEventListener("load",()=>{var b,I;let r=(I=(b=o.Ya)==null?void 0:b.Context)==null?void 0:I.AdvManager;if(!r)return;let e=r.getPlatform(),t=n[e];if(!t||!t.id)return;let i=m=>{o.yaContextCb.push(()=>{r.render({type:"inImage",blockId:t.id,renderTo:m})})},s=m=>new Promise((f,u)=>{o.yaContextCb.push(()=>{r.render({type:"inImage",blockId:t.id,renderTo:m,onRender:f,onError:u,altCallback:u})})}),a="img";t.target_ids&&t.target_ids.length?a=`#${t.target_ids.join(", #")}`:t.target_classes&&t.target_classes.length&&(a=`.${t.target_classes.join(", .")}`);let l=m=>{let f=m.id=`yandex_rtb_${t.id}-${Math.random().toString(16).slice(2)}`;return m.tagName==="IMG"&&!m.complete?new Promise((u,J)=>{m.addEventListener("load",()=>u(f)),m.addEventListener("error",J)}):Promise.resolve(f)},c=m=>{let{width:f,height:u}=m.getBoundingClientRect();return t.min_image_width&&f<t.min_image_width||t.min_image_height&&u<t.min_image_height},d=Array.from(h.querySelectorAll(a));if(t.max_ad_images===void 0||t.max_ad_images>=d.length)for(let m of d)c(m)||l(m).then(i).catch(()=>{});else{let m=f=>{if(f<=0||!d.length)return;let u=d.shift();if(u){if(c(u))return m(f);l(u).then(s).then(()=>m(f-1)).catch(()=>m(f))}};m(t.max_ad_images)}},{once:!0})}let Xe=(n,r)=>o.Math.floor(o.Math.random()*(r-n))+n,ze=()=>[o.Math.round(o.Date.now()/1e3),Xe(1e6,999999999)].join("");function we(n){let r=H(x);if(r)return r;try{let e=o.localStorage.getItem(x);if(e)return e}catch(e){}if(n.enableSetYmUid){let e=ze();try{o.localStorage.setItem(x,e)}catch(t){}return U({name:x,value:e,domain:n.cookieDomain}),e}return""}function Ze(n,r){let e=6,t=0;function i(){var s;try{for(;t<r.length;t++)(s=r[t])==null||s.call(null,n)}catch(a){e-- >0?setTimeout(i,50):console.error(a)}}i()}function ie(n,r,e){(S[n]||k).removeAbRedirParam&&(N("ab_redir"),N("vq__ab_redir")),e.length&&Ze(r,e),We(n)}function Qe(n,r,e,t){let i=new URL(_e),s=i.searchParams;return s.set("client_id",String(n)),s.set("url",C.href),s.set("i",r||H(X)||""),t.enableSendYmUid&&s.set("duid",we(t)),e&&s.set("client_features",JSON.stringify(e)),i.toString()}function N(n){let r=new URL(C.href),e=r.searchParams;if(e.has(n)){let t=e.get(n);try{e.delete(n),B.replaceState(B.state,"",r.toString())}catch(i){}return t||void 0}}function et(n){try{switch(n.storeRedirParam){case"cookie":{let r=H("vq__redir_param");return U({name:"vq__redir_param",value:"",ttl:0,domain:n.cookieDomain}),r}case"get":return N("vq__redir_param");case"localstorage":case!0:{let r=o.localStorage,e=r.getItem("vq__redir_param"),t;if(e){let i=JSON.parse(e);i.ts>Date.now()-5*M*1e3&&(t=i.experiments)}return r.removeItem("vq__redir_param"),t||void 0}}}catch(r){}}function E(n,r,e,t){if(typeof n!="string")throw new Error("clientId: should be string");K[n]=!0;let i=Te,s=S[n]||k,a=Qe(n,r,e,s),l=P[a];if(l)return t(l);let c=W[a]||(W[a]=[]);if(c.push(t),c.length>1)return;function d(){if(P[a])return;let f={flags:{},i:r,experiments:void 0,prepareUrl:u=>typeof u=="string"?u:void 0,getBlockId:u=>typeof u=="string"?u:void 0};P[a]=f,D(n,Ae),ie(n,f,c)}let b=setTimeout(d,Ie);function I(f){var he,be;let u=S[n]||k,{flags:J,redirect:le,htmlReplace:ce,adv:ue,advReplaceId:nt,integrations:rt,cssInsert:L,textInsert:de,hrefInsert:fe,jsInsert:ge,imageSrcInsert:me}=Pe(f.flags,u),F=Object.assign({},f,{flags:J,prepareUrl:Ge.bind(null,u,f.experiments),getBlockId:at});f.i&&(r=f.i);let q=et(u),_=Promise.resolve();q&&q!==f.experiments&&(_=_.then(()=>D(n,q))),_=_.then(()=>D(n,f.experiments));try{let g=o.sessionStorage,y=g.getItem("vq__referer");if(y){let p=JSON.parse(y);p&&p.ts>Date.now()-5*M*1e3&&p.url===h.referrer&&(_=_.then(()=>{qe(n,p.referer),g.removeItem("vq__referer")}))}}catch(g){}clearTimeout(b),P[a]=F,F.i&&U({name:X,value:F.i,domain:u.cookieDomain});function pe(g=!1){ce.length&&je(ce,g),fe.length&&De(fe,g),me.length&&Ne(me,g),de.length&&He(de,g),L.length&&$e(L,g),ge.length&&Je(ge,u.nonce,g)}function it(g){try{return JSON.parse(g)}catch(y){}}rt.forEach(g=>{let y=it(g.v);y&&oe(g.n,y.version,()=>{o.dispatchEvent(new CustomEvent("init-plugin",{detail:{t:g.t,n:g.n,v:y}}))})});function st(){u.enableVisual&&(L.length&&Me(L,u.nonce),u.enableWatch&&Oe.start(n,pe),pe(!u.enableWatch)),ie(n,F,c)}function at(g){var y;try{let p=JSON.parse((y=nt[g])!=null?y:"");return(p==null?void 0:p.toId)||g}catch(p){return g}}function ot(){for(let{type:g,value:y}of ue)try{let p=JSON.parse(y);if(typeof p!="object"||p===null)continue;if(g==="in_image"){Ke(p);continue}o.yaContextCb.push(()=>{var Ce,ve;let Y=(ve=(Ce=o.Ya)==null?void 0:Ce.Context)==null?void 0:ve.AdvManager;if(!Y)return;let ye=Y.getPlatform(),V=p[ye];V&&V.id&&Y.render({type:g,platform:ye,blockId:V.id,renderTo:V.renderTo})})}catch(p){}}(!le.length||!Be(le,u,f.experiments))&&(O(st),ue.length&&(o.yaContextCb||(o.yaContextCb=[]),(be=(he=o.Ya)==null?void 0:he.Context)!=null&&be.AdvManager||Z("https://yandex.ru/ads/system/context.js"),O(ot)))}function m(){if(--i>0)return se(a,I,m);clearTimeout(b),d()}try{localStorage.removeItem("vq__redirect_param")}catch(f){}se(a,I,m)}function se(n,r,e){let t=new XMLHttpRequest;return t.open("GET",n),t.addEventListener("load",function(){if(t.status===200){try{let i=JSON.parse(t.responseText);r(i)}catch(i){i instanceof Error&&e(i.message)}return}e(t.statusText)}),t.addEventListener("error",()=>e(t.statusText)),t.send()}let j={init:(n,r,e,t)=>{E(n,r,e,i=>t&&t(i))},getFlags:(n,r,e,t)=>{E(n,r,e,i=>t&&t(i.flags))},getExperiments:(n,r,e,t)=>{E(n,r,e,i=>t&&t(i.experiments))},getParam:(n,r,e,t)=>{E(n,r,e,i=>t&&t(i.i))},setConfig:(n,r,e,t)=>{ae(n,e),t&&t()},getConfig:(n,r,e,t)=>{let i=S[n]||k,s=Object.assign({},i);delete s.nonce,t&&t(s)},adv:(n,r,e,t)=>{E(n,r,e,i=>t&&t(i))}};function ae(n,r){var e;if(typeof r=="object"){let t=S[n]||(S[n]=Object.assign({},k)),i=Object.keys(r);for(let s of i)if(s in t){let a=s,l=r[a];(e=Re[a])!=null&&e.includes(typeof l)&&(t[a]=l)}}}function tt(n){let{clientId:r,config:e}=n;if(!r)throw new Error("clientId is required");ae(r,e),j.init(r,n.i,n.clientFeatures,n.callback)}function oe(n,r,e){let t=r==="beta";(t||/^(\d\.)+\d+$/.test(r)&&/^[a-z0-9-]+$/ig.test(n))&&Z(`https://abt.s3.yandex.net/${n}/${t?"":"v"}${r}/main.js`,e)}function $(n,r,e,t,i){if(typeof n=="object")return tt(n);if(!r)throw new Error("method not specified");if(!(r in j))throw new Error("unknown method");typeof t=="function"&&(i=t,t={}),typeof e=="function"&&(i=e,e=void 0),typeof e=="object"&&(t=e,e=void 0),t||(t={}),j[r](n,e,t,i)}v&&(Array.isArray(v.a)&&v.a.forEach(n=>$.apply(null,n)),typeof v.antiFlicker=="object"&&(T=v.antiFlicker)),$.inited=!0,o.ymab=$,function(n){let r=["ru","ua","by","kz","com","com.tr"];function e(s){if(!s)return null;if(typeof s!="string")return s;try{return JSON.parse(s)}catch(a){return null}}function t(s){let a=new URL(s),{hostname:l,protocol:c}=a,d=(l==null?void 0:l.split("."))||[];d[1]==="test"&&d.splice(1,1);let[b,I]=d,f=d.slice(2).join(".");return c==="https:"&&b==="ab"&&I==="yandex"&&r.indexOf(f)!==-1}function i(s){let a=s.origin;if(!a||!t(a))return;let l=e(s.data);if(!(!l||!K[l.clientId]))switch(l.type){case"appendplugin":oe(l.plugin,l.version);break}}n.addEventListener("message",i)}(o)})(window,document);})();
